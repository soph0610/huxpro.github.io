---
layout: post
title:  "DB #2 : Normalization"
date:   2018-11-22 14:55:00
header-img: '/img/posts/03.jpg'
author:     "Soph"
catalog: true
tags:
   - DB
---

## 정규화, 역정규화

1. 정규화 : 데이터의 중복과 종속으로 인한 이상 현상을 방지하기 위해 속성들 간의 종속 관계를 제거하고 다수의 릴레이션으로 분리하는 과정
2. 역정규화 : 정규화를 통해 분리되었던 릴레이션에서 중복을 허용하고 다시 통합하거나 분할하여 구조를 재조정하는 것. 정규화 과정에서 많은 JOIN으로 인해 작업효율이 저하되는 경우 다시 역정규화를 통해 작업효율을 높이고자 함.

- 이상 현상
1) 갱신 이상 : 같은 정보가 복수개의 행에 존재해 일부는 변경이 되었으나 일부는 변경되지 않을 경우.
2) 삽입 이상 : 새로운 정보가 테이블에 기록되지 못함.
3) 삭제 이상 : 데이터의 삭제가 전혀 다른 사실에 대한 데이터의 삭제도 필요로 하는 경우.


- 정규화의 종류
1) 제1정규형 : 한 릴레이션을 구성하는 모든 도메인이 원자값이어야 한다. 즉 한 ROW는 각 속성에 데이터를 1개씩만 가질 수 있다.
2) 제2정규형 : 제1정규형을 만족하면서 릴레이션에 존재하는 부분 함수적 종속을 제거, 모든 속성이 기본키에 완전 함수 종속이어야 한다. 즉 키를 한개 이상의 속성으로 구성할 경우 일부 키에만 종속적인 관계를 가질 수 있으며 이는 갱신이상 현상을 초래한다.
3) 제3정규형 : 제2정규형을 만족하면서 릴레이션을 구성하는 속성들 간의 이행적 종속관계를 분해하여 속성들이 비이행적 함수 종속관계를 만족해야 한다. 
4) BCNF : 제3정규형을 만족하면서 릴레이션의 모든 결정자가 후보키
5) 제4정규형 : BCNF를 만족하면서 릴레이션에서 두 속성이 서로 1:N 대응이 되는 관계를 제거
6) 제5정규형 : 후보키를 통하지 않은 조인종속을 제거

~~단어를 나열했을 뿐 뭔소린지 잘 모르겠다~~
- 배경지식
1) 함수종속성 : A의 값이 정해졌을 때 B의 값이 정해지는 것. (A->B)
3) 완전함수종속 : B가 A에 함수종속일 때, 다른 A의 부분 집합에 대해 함수종속이 아닌 경우.
4) 이행함수종속 : x->y이고 y->z인 것.
5) 조인종속 : 테이블 R이 R의 속성의 부분집합을 가지는 여러 개의 테이블들을 조인하여 만들어질 수 있을 때.

- 역정규화의 정류
1) 릴레이션 역정규화
-릴레이션병합 : 이미 분해된 두개 이상의 릴레이션을 다시 합치는 것
-릴레이션분할 : 자주 사용하는 튜플이나 속성을 분해하여 성능을 향상시킴 (속성:수직분할 ; 튜플:수평분할)
2) 속성 역정규화 : 릴레이션의 성능을 향상시키기 위해 속성 또는 파생속성을 추가
-파생속성 : 작업의 효율을 높이기 위해 계산이나 가공을 통해 파생된 속성



